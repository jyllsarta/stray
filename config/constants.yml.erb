version: 0.4.0

default_event_interval_seconds: <%= Rails.env.production? ? 30 : 5 %>
minimum_event_interval_seconds: 4
max_event_consume_time_seconds: <%= Rails.env.production? ? 1000 : 100 %>
max_charge_absent_time_seconds: 86400
resurrect_time_seconds: <%= Rails.env.production? ? 1800 : 25 %>

user:
  velocity:
    min: 100
    # 内部的には350を最大値として保持するが、UI上では333が最大かのように見せる
    max: 350

character:
  initial_hp_max: 100
  gain_hp_per_level: 100
  # constants.tsと定義を共有しているので注意
  default_parameters:
    rank_1:
      str: 10
      dex: 10
      def: 10
      agi: 10
    rank_2:
      str: 500
      dex: 500
      def: 500
      agi: 500
    rank_3:
      str: 3500
      dex: 3500
      def: 3500
      agi: 3500
    rank_4:
      str: 50000
      dex: 50000
      def: 50000
      agi: 50000
  level_up_exp: 1000

item:
  # アイテム設計の係数やクライアントパラメータ計算に使ってる値といっしょ
  rank_factor: 1.015
  rarity_factor: [0, 1, 1.1, 1.3, 1.65, 2.2]
  default_max_rank: 100

equip:
  max_count: 4

event:
  attenuate_velocity_per_event: 5
  attenuate_increase_threshold: 250
  item:
    max_rarity: 5
    # item_idが 1 ~ id_range のあいだにすべてのレアリティが出現するようにマスタを設定する必要あり
    id_range: 10
    # レアリティidと重みを一致させたいのでrarity: 0 は重み0 をつける
    weights: [0, 8000, 1500, 450, 45, 5]
  battle:
    # base + (0 ~ additional) 点の経験値を得る
    base_exp: 100
    additional_exp_range: 50
    boss_additional_rank: 5
    boss_lose_rewind_floor: 2
    velocity_delta:
      turn2:  60
      turn3:  40
      turn4:  20
      turn5:   0
      other: -10
    buster_level: ["SS","SS","SS","S","A","B","C"]
    default_buster_level: "C"
  weight: [
    # 階段 : アイテム : 戦闘 (event_picker で対応を定義している)
    [2500, 3750, 3750], # 100 ~ 149
    [3000, 3500, 3500], # 150 ~ 199
    [4000, 3000, 3000], # 200 ~ 299
    [6000, 2000, 2000], # 300 ~ 350
  ]

dungeon:
  boss_floor_frequency: 100

card:
  max_parameter: 99

skill:
  max_equip_count: 5
