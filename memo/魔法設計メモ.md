魔法で何をしよう

## 前提仕様

* 実装を楽にするために以下制約をおく
  * ターンの前に使用宣言
  * ターンの前に個別で効果発動
  * できることはターンの「戦闘処理前に変数書き換え」のみとする
  * MPがターン前時点で足りてないと発動できない
    * MPは戦闘結果依存で変わる
      * 3-0 : 10
      * 1-1 : 5
      * 1-0 : 30
      * 0-1 : 30
      * 0-3 : 40
    * 戦闘開始時MPは原則0
      * パッシブで盛れるようにしたい
    * 増加ペースももれるようにする？
      * どこでインフレさせるか次第
  * 魔法は「任意回数打てるもの」と「一回だけのもの」に分かれる

* 敵も魔法を使う
  * この2パターンで大丈夫？
    * HPが初めてX以下になった時Yを発動
    * Xターン目以降YターンおきにZを発動
  * 被ったらHPトリガー優先
    * HPトリガーとターントリガーと被せてターン側を不発にするテクニックが有効になるけど、それは攻略要素としてむしろ面白い気がする

## クラス定義

* 具体的な設計はマスタでできるようにしたい
* 効果は同時に3つまで
* Magic
  * id
  * name
  * reusable
  * effect1_category
    * DirectDamage とか AddPower とか
  * effect1_side
    * true: 自分自身 / false: 敵
  * effect1_value
    * X点ダメージ、Y枚追加ドロー
  * effect2_category
  * effect2_side
  * effect2_value
  * effect3_category
  * effect3_side
  * effect3_value

## マスタ案

* ダイレクトダメージ
  * Damage
  * 押し込み火力
  * 敵が定期的に打ってきて回避不能ダメージをねじ込んでくる
  * 敵の破局枠
  * 3-0でダメージを与える以外の戦略を追加する
* ダイレクト回復
  * AddHp
  * 余りのMPで切る持続回復
  * 一度きりの完全復活
* MPブースト
  * AddMp
  * 魔法装備枠を一個これに使うことを許容してMPを急速チャージ
* MP削り
  * DamageMp
  * 敵専用
* このターンの力・技値の書き換え
  * OverridePower
  * OverrideTech
  * お互い0にすると完全ガード
  * 超必殺・両面勝利を強制的に作る
* このターンの力・技値の加減
  * AddPower/AddTech
  * 基本技、ちょっと足りない時に切らせる
* 手札上限枚数の変更  
  * AlterHandLimit
  * 自分で切ってもいいけど敵にやらせたい
  * 妨害系エネミーの対処札として取らせたい
* 次ターンドロー枚数の変更
  * AlterDrawNumber
  * スロウ付与みたいな弱めの影響を与えられる
* 手札のバインド(指定ターンの間切れなくなる)
  * 強力な妨害になる
  * 合法な手札枚数が3未満になったら困るけど、どうしよ？
* ベース火力の変更
  * バイキルト
  * 敵の発狂表現
* ボーナスアタックの火力追加
  * 必殺技強化、派手に押し込ませる、プレイ感を変えられる
* カードの恒久強化
  * こっちにあると回復と共用して耐久戦略が有効になる
  * 敵にあると発狂/持久戦略の否定ができる
  * レアリティ指定ができると良さそう
* 残り手札のディスカード
  * 単純に弱札整理に便利だが、弱い
  * 敵にいたずらに打たせると適度にうざいと思う
* 条件を満たしたら特大ダメージを与える魔法が欲しい
  * PKスターストーム、夢想転生
  * 一発きりの大ダメージ
  * 重い条件を付加したい、HP1、MP100、特定対応カードを切っている時のみ効果あり
  * ダイレクトダメージ30 / 基本攻撃力+5 / このターンの敵能力0
  * ダイレクトダメージ30 / HP+5 / MP+50
  * 序盤に DD5 / ATK+1 / HP+3 程度のプチ必殺をあげたい気持ちもあるね
